
<div class="container">
  <div class="row">
    <div class="col-xs-11 col-xs-offset-1">
      <div class="search-filter-box">
        <span style="border-bottom: 2px solid black;"><i class="fas fa-search"></i></span>
        <div class="search">

          <%= simple_form_for :term, url: items_path, method: :get do |f| %>
          <%= f.input_field :query, label: false, placeholder: "",
          input_html: { value: @results.first.address } do %>
          <% end %>
        </div>
        <div class="filter">
          <%= image_tag("equalizer.png", width:"16", height:"15", :class => "equalizer" )  %>
          <a class="btn-filter" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">FILTER</a>
        </div>
      </div>

      <div class="collapse" id="collapseExample">
        <div class="filter-body">
          <div class="filter-modal">
            <div class="catg-filter">
             <div class="box-category-type">
              <div class="">

                <div id="type-filter2">
                  <p>CATEGORY</p>
                  <div class="search-filter1-box" style="display: flex;flex-wrap: wrap;">
                    <%= f.collection_check_boxes :catg, Item::CATEGORY.map { |c| [c, c] }, :first, :last, input_html: { style: "display: flex; padding-right: 15px;"}, label_html: { style: "padding-left: 20px;"} %>
                  </div>
                </div>

              </div>
              <div class="type-filter">
                <div class="">
                  <br>
                  <div id="type-filter3">

                    <p>TYPE</p>
                    <div class="search-filter1-box" style="display: flex;flex-wrap: wrap;">
                      <%= f.collection_check_boxes :types, Type::TYPES.map { |c| [c, c] }, :first, :last, input_html: { style: "display: flex; padding-right: 15px;"}, label_html: { style: "padding-left: 20px;"} %>
                    </div>
                  </div>
                  <br>
                  <div class="allign-button">
                    <%= f.button :submit, "APPLY", class: "my-button" %>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <% end %>
  </div>
</div>
</div>

<div class="container">
  <div class="row">
    <div class="col-xs-11 col-xs-offset-1 col-md">

      <% if @empty %>
        <h2 style="margin-top: 60px;">Your search was unsuccessful</h2>
        <h4>Here are are all items: </h4>
      <% end %>
      <div class="search-filter1-box">
        <h2 style="margin-top: 60px;"> NEW FOOD </h2>
      </div>
    </div>
  </div>
</div>



<% if @query.present? %>
<div class="container">
  <div class="row">
    <% @items.each do |item| %>
    <div class="col-md-3">
      <%= render 'shared/card', item: item %>
    </div>
    <% end %>
  </div>
</div>
<% else %>
<div class="container">
  <div class="row">
    <div class="col-xs-11 col-md-10 col-centered">
      <div id="carousel" class="carousel slide" data-ride="carousel" data-type="multi" data-interval="false">
        <div class="carousel-inner">
          <% @items.each_with_index do |item, index| %>
          <div class="item <%= 'active' if index == 0 %>">
            <div class="carousel-col">
              <div class="img-responsive">
                <%= render 'shared/card', item: item %>
              </div>
            </div>
          </div>
          <% end %>
        </div>

        <!-- Controls -->
        <div class="left carousel-control">
          <a href="#carousel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>
            <span class="sr-only"></span>
          </a>
        </div>
        <div class="right carousel-control">
          <a href="#carousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span>
            <span class="sr-only"></span>
          </a>
        </div>

      </div>
    </div>
  </div>
</div>
</div>
<% end %>



<div
class="container"
id="map"
style="width: 70%; height: 500px;"
data-markers="<%= @markers.to_json %>"
data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"
>
</div>
